"use strict";(self.webpackChunkbig_screen_builder=self.webpackChunkbig_screen_builder||[]).push([[1415],{43777:function(t,e,n){n.r(e),n.d(e,{default:function(){return b}});var i=n(72791),o=n(65362),r=n(1413),a=n(29439),c=n(76543),s=n(15671),h=n(43144),u=(0,n(10009).Z)();u.on("dispathEvent",(function(t){var e=t.target,n=t.action;console.log("action.".concat(n,".").concat(e)),u.emit("action.".concat(n,".").concat(e))}));var d=function(){function t(e,n){(0,s.Z)(this,t),this.id=void 0,this.eventConfig=void 0,this.id=e,this.eventConfig=n}return(0,h.Z)(t,[{key:"on",value:function(t,e){u.on("action.".concat(t,".").concat(this.id),e)}},{key:"off",value:function(t,e){u.off("action.".concat(t,".").concat(this.id),e)}},{key:"emit",value:function(t){u.emit("dispathEvent",this.eventConfig[t])}}]),t}(),f=n(80184),g=function(t){var e=t.item,n=e.component.ViewComponent,i=e.id,o=e.getShape(),r=o.size,a=o.position,c=o.rotate,s=e.getPropConfigValue(),h=e.getEventConfigValue(),u=new d(i,h);return(0,f.jsx)("div",{style:{position:"absolute",top:0,left:0,boxSizing:"border-box",width:r.width,height:r.height,transform:"translate(".concat(a.x,"px, ").concat(a.y,"px) rotate(").concat(c,"deg)")},children:(0,f.jsx)(n,{eventBus:u,properties:s,shape:{size:r,position:a,rotate:c}})})},l=i.memo(g),p=n(94106);function m(){return{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}}var v=function(t){var e=t.page,n=e.getItems(),o=e.getConfig(),s=o.size,h=o.scaleMode,u=o.backgroundColor,d=i.useState(m()),g=(0,a.Z)(d,2),v=g[0],w=g[1],b=function(t,e,n){var i,o;if(n===c.g.uniform)return i=t.width/t.height>e.width/e.height?e.width/t.width:e.height/t.height,{position:"absolute",top:"50%",left:"50%",transformOrigin:"0px 0px",transform:"scale(".concat(i,") translate(-50%, -50%)")};if(n===c.g.stretch){var r=e.width/t.width,a=e.height/t.height;return{position:"absolute",top:0,left:0,transformOrigin:"0px 0px",transform:"scale(".concat(r,", ").concat(a,")")}}return n===c.g.filled?(o=t.width/t.height>e.width/e.height?e.height/t.height:e.width/t.width,{position:"absolute",top:0,left:0,transformOrigin:"0px 0px",transform:"scale(".concat(o,")")}):{position:"absolute",top:"50%",left:"50%",transformOrigin:"0px 0px",transform:"translate(-50%, -50%)"}}(s,v,h),x=function(){w(m())};return i.useEffect((function(){return window.addEventListener("resize",x),function(){window.removeEventListener("resize",x)}}),[]),i.useEffect((function(){window.document.body.style.background=u}),[u]),(0,f.jsx)("div",{style:(0,r.Z)({width:s.width,height:s.height,backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundImage:"url(".concat(p,")")},b),children:n.map((function(t){return(0,f.jsx)(l,{item:t})}))})},w=i.memo(v),b=function(){var t=localStorage.getItem("data");if(!t)return null;var e=o.Z.deserializePage(JSON.parse(t));return(0,f.jsx)(w,{page:e})}}}]);
//# sourceMappingURL=1415.2c052e29.chunk.js.map